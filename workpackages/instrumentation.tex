\begin{workpackage}[id=instrumentation,type=RTD,
  short=Integration,% for Figure 5.
  title=Integration,
  lead=Del,
  DelRM=14,
  GotRM=4,
  TumRM=5,
  ChaRM=20,
  CleRM=0,  % TODO
  ImtRM=0,  % TODO
  TouRM=0,  % TODO
  BolRM=16, % 12 on Coq, 4 on Matita
  InrRM=0]  % TODO

\begin{wpobjectives}
  The objective of this work package is to bring systems already at least at
  LIL 1 to higher LIL levels, that is, to instrument the systems
  for which we already know how to encode the proofs in Dedukti, and
  make available these proofs in Logipedia so that
  they can be exported to other systems.
\end{wpobjectives}

\begin{wpdescription}
  The concrete work that has to be performed to integrate a particular
  system into Logipedia depends on how much of the theory of that
  system has already been encoded in Dedukti, and how mature the
  existing (prototype) tools for exporting proofs are already. Thus
  the tasks in this work package are divided among the different
  interactive theorem provers we consider: Agda, Isabelle, HOL4,
  Atelier-B and Rodin, and Matita.
\end{wpdescription}

\begin{tasklist}
\begin{task}[id=agda,
  title=Instrument Agda,
  lead=Del,
  DelRM=14,
  GotRM=4,
  wphases=0-18]
% \input{workpackages/agda}
\begin{compactitem}
\item Continue the development of the prototype Agda2Dedukti tool to
handle core features of Agda such as inductive datatypes and dependent
pattern matching in a robust manner.
\item Extend Agda2Dedukti with $\eta$-equality for record types and definitional irrelevance.
\item Extend Agda2Dedukti with first-class universe level polymorphism.
\end{compactitem}
\end{task}

\begin{task}[id=isabelle,
  title=Instrument Isabelle,
  lead=Tum,
  TumRM=5,
  wphases=0-12]
%\input{workpackages/isabelle}
\begin{compactitem}
\item Improve the efficiency of important aspects of the
  Isabelle/HOL logic implementation, such as normalization of proofs,
  type-class reasoning, and special representation of derived rules
  and definition principles.
\item Reduce the volume of proof terms in the Dedukti encoding, by
taking more structure of the target language (Dedukti) into account
and omitting certain low-level reasoning of HOL (e.g.\ for inductive
types).
\item Improve memory usage of the Isabelle/ML implementation platform.
\end{compactitem}
\end{task}

\begin{task}[id=HOL4,
  title=Instrument HOL4,
  lead=Cha,
  ChaRM=16.5]
%\input{workpackages/hol4}
\begin{compactitem}
\item Develop the current proof-of-concept prototype
    HOL4-to-OpenTheory and OpenTheory-to-Dedukti tools to the point
    where they scale (both in terms of time and space) to cope with
    real examples of interest.
\end{compactitem}
\end{task}

\begin{task}[id=atelier-b,
  title=Instrument Atelier-B/Rodin,
  lead=Imt,
  CleRM=0, % TODO
  ImtRM=0, % TODO
  TouRM=0] % TODO
%\input{workpackages/b_method}
\begin{compactitem}
\item Continue the encoding of the B set theory in Dedukti to be
  able to handle all kind of proof obligations in Zenon Modulo.
\item Instrument and export B models to Dedukti.
\item Develop a tool for importing lemmas coming from Logipedia
into B models.
\end{compactitem}
\end{task}

\begin{task}[id=matita,
  title=Integrate the Matita translator in Matita itself,
  lead=Bol,
  BolRM=4,
  wphases=0-12]
  % \input{workpackages/matita}
\begin{compactitem}
\item Merge Krajono and Matita, update the code to the latest
  version and transfer the maintenance effort to the Matita team.
\item Extend Krajono in order to record metadata that allow to
  invert the translation.
\item Optimize the code and the translation in order to be able to
  export all the libraries of Matita.
\end{compactitem}
\end{task}

\begin{task}[id=coq,
  title=Instrument Coq,
  lead=Bol,
  BolRM=12,
  InrRM=6,
  wphases=0-8]
  % \input{workpackages/coq}
\begin{compactitem}
\item Access Coq internal data structures to gather logical data, such as
statements and proof terms (for tasks in WP3).
\item Implement the required instrumentation to translate of Coq terms
to Dedukti terms as a part of Coq proper.
\item Access Coq internal data structures to gather extra-logical data,
such as the role played by a constant in the library like begin an implicit
cast from one algebraic structure to another (for tasks in WP3).
\item Make extra-logical data available in a structured and
  extensible format (for tasks in WP5).
\end{compactitem}
\end{task}
\end{tasklist}

\begin{wpdelivs}
  \begin{wpdeliv}[due=3,miles=startup,id=requirements,dissem=PU,nature=DEM,lead=Inr]
      {Requirements Analysis and Synchronization}
  \end{wpdeliv}
  \begin{wpdeliv}[due=12,miles=logipedia-v1,id=isabelle1,dissem=PU,nature=DEM,lead=Tum]
      {Robust export of proof terms for Isabelle}
  \end{wpdeliv}
  \begin{wpdeliv}[due=12,miles=logipedia-v1,id=isabelle1,dissem=PU,nature=DEM,lead=Tum]
      {Improved memory management and monitoring for Poly/ML}
  \end{wpdeliv}
  \begin{wpdeliv}[due=18,miles=logipedia-v2,id=agda,dissem=PU,nature=DEM,lead=Del]
      {Export Agda's standard library to Dedukti}
  \end{wpdeliv}
  \begin{wpdeliv}[due=8,miles=logipedia-v1,id=coq1,dissem=PU,nature=DEM,lead=Inr]
    {Export of proof terms from Coq, no meta data}
  \end{wpdeliv}
  \begin{wpdeliv}[due=24,miles=logipedia-v2,id=coq2,dissem=PU,nature=DEM,lead=Bol]
    {More scalable export of proof terms and meta data from Coq}
  \end{wpdeliv}
  \begin{wpdeliv}[due=12,miles=logipedia-v1,id=matita1,dissem=PU,nature=DEM,lead=Bol]
    {Export of proof terms and meta data from Matita}
  \end{wpdeliv}
\end{wpdelivs}
\end{workpackage}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../propB"
%%% End:
