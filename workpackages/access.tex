\begin{workpackage}[id=access,wphases=0-48,type=MGT,
  short=Access,% for Figure 5
  title={Access to the infrastructure},
  lead=Inr,
  InrRM=28,% to be fixed
  OcaRM=6]

\begin{wpobjectives}
  The objective of this work package is to \ldots

This includes notably:
  \begin{compactitem}
  \item \ldots
  \end{compactitem}
  A key aspect will be to foster \ldots
\end{wpobjectives}

\begin{wpdescription}
todo
\end{wpdescription}

\begin{tasklist}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=archi,
      title=Defining the functional and software architecture,
      lead=Irt,IrtRM=3]    
    The logipedia platform will reuse efforts done on an existing
    application. However, with an ambition to be a reference platform
    accessible on internet, it is necessary to meet several
    requirements for such an application, especially scalability,
    availability and sustainability.

    To achieve this goal, we will specify the architecture of the system.
    This will be done by:
    \begin{compactitem}
    \item Collecting and formalizing users needs
    \item Defining the proof submission process
    \item Defining the reuse strategy in term of software components
    \item Defining the global software architecture
    \item Defining how proof files for the different proof systems
      will be organized and stored in logipedia database, based on
      structure defined in \taskref{structuring}{strlibstructure}.
    \end{compactitem}

    Several features will be specified in this task:
    \begin{compactitem}
    \item World-wide access through a user-friendly, ergonomic web
      browsing interface
    \item Download proof files from the web interface
    \item Interface with proof tools through the repository developed
      in task~\taskref{access}{opam}
    \item Interface with the search tools using inputs from WP7 and
      task~\taskref{access}{search}.
    \item Capability to integrate with publication systems (e.g. HAL,
      Arxiv) through permanent links
    \item Capability to easily integrate with third-party applications
      like Wikipedia or search engines
    \end{compactitem}

    Finally, we will define the tooling architecture necessary for
    continuous integration and continuous deployment (CI/CD) of the
    logipedia application itself and new validated proof files in the
    logipedia database.
  \end{task}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=infra,
      title=Defining the hardware architecture for the infrastructure,
      lead=Irt,IrtRM=1]
    Based on the work done in task~\taskref{access}{archi}, we will
    size the needed hardware architecture to fit the objectives of the
    project. The goal is to define a scalable infrastructure in order
    to be able to manage an increasing traffic on the website to
    several thousands downloads a day from all over the world.

    Security of the database is also very important. It must be
    possible to recover the data in a few minutes at any time to
    ensure every user will be able to continue working. Defining the
    redundancy of the infrastructure as well as the backup strategy is
    key to guarantee the security and high availability of the
    platform.

    Finally, the hosting strategy will be decided taking into account
    costs, efficiency and sustainability.  The platform can be hosted:
    \begin{compactitem}
    \item on premise on some server at Inria with redundancy in MÃ¼nich
    \item on public cloud services like Amazon Web Services (AWS) or
      the European cloud providers OVH.com or Scaleway
    \item on a private cloud, which is a compromise between both
      previous options.
    \end{compactitem}
    SystemX operates its own private cloud based on open-source tools
    (multiple hardware servers running OpenStack and Kubernetes) and
    will bring its expertise, knowledge and skills to define the best
    hosting strategy.

  \end{task}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=web,
      title=Giving access to the infrastructure on the world-wide web,
      lead=Irt,IrtRM=18]
    In this task, the implementation of the architecture defined in
    task~\taskref{access}{archi} and task~\taskref{access}{infra} will
    be done. The development will be done using agile methodology in
    order to get frequent feedback from end users and adjust the
    implementation to fit the needs.

    We will setup the hardware infrastructure and develop the web
    interface to access the platform, navigate into the available
    proofs and download them.  We will then deploy the software on the
    hardware infrastructure.
    
    All this work will be done using CI/CD tooling. SystemX will bring
    its expertise on deploying a software factory and using it in
    internal projects.  SystemX's software factory is based on
    open-source components widely used such as gitlab or jenkins.  The
    CI/CD will be used in two cases:
    \begin{compactitem}
    \item Automatic building/deployment of the Logipedia application
      on the hardware infrastructure
    \item Automatic integration of new validated proof files in the
      logipedia database
    \end{compactitem}

    Finally, we will perform unitary tests and integration tests,
    especially with components developed in other tasks: opam
    repository from task~\taskref{access}{opam} and search tools from
    task~\taskref{access}{search}.
  \end{task}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=opam,
      title=Giving access to the infrastructure in proof tools,
      lead=Oca,
      OcaRM=6]    
    Users need to have an easy access to the proofs in logipedia, to
    integrate/use them in their ongoing work; this access should be
    guaranteed universal, without lock-in, web standards-compliant,
    through an open source tool. While WP7 will give a structure to
    the proof database, and T3 of this WP will give access to that
    structured database through web browsing, this task aims at
    providing a proof manager for users of Logipedia. This proof
    manager will enable users to automatically download and install
    proofs as well as their dependencies in order to ease the
    integration of proofs from logipedia in developments.

    Opam \cite{opam} is an open-source source-based package manager,
    which has been successfully used by the OCaml community since
    2012, where it manages 2585 versioned packages for a total of
    13196 combinations of package and version, guaranteeing its
    ability to connect people across large communities. Furthermore,
    opam is meant to provide management capabilities not only to
    OCaml, but to any language, which is why it is already used as a
    proof manager by the Coq community where it has been proven to be
    reliable and suited to managing formal proofs. This makes it a
    prime candidate to be the proof manager for logipedia.

    This task would thus use the opam management tool to develop a
    repository containing all the proofs in logipedia, allowing users
    across Europe to automatically and transparently download and
    install proofs and their dependencies via opam. This would
    primarily entail the creation of a new tool able to read the proof
    database of logipedia and create a corresponding opam repository,
    as well as the necessary work to automate this work so that it can
    run automatically on the infrastructure built in T3.
  \end{task}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=search,
      title=Providing search tools,
      lead=Inr,InrRM=18]
    We will provide users with search tools enabling them to perform
    queries on Logipedia in order to find specific theorems or proofs.
    First, users will be able to search libraries theorems by their
    names and other metadata (see \taskref{structuring}{strdofimpl}),
    including complex semantic queries expressed in the SPARQL
    language for semantic annotations produced in
    \taskref{structuring}{strrefonto}. Second, it will be possible to
    search theorems and proofs based on their structure and
    mathematical content (types, operators, used axioms and rules,
    etc.), using exact matching, regular expressions over fomulas, and
    deeper content matching, such as the one done in the
    \hyperlink{https://kwarc.info/systems/mws/}{MathWebSearch}
    system. Users can use this both to find a specific theorem that
    could be useful in their current development and to analyze the
    proofs themselves, e.g., to find all proofs using a given set of
    axioms.  Finally, users will be able to search in the full text of
    theorems and proofs that have been extracted from natural-language
    research articles in \taskref{structuring}{strtext}.
  \end{task}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=transfer,
      title=Transfer for the sustainability of the system,
      lead=Irt,IrtRM=1]
    Once the platform will be up and running, and available to all
    users, it will be necessary to share the ownership with other
    maintainers. To this purpose, we will produce the documentation
    necessary to operate the system and organize technical transfer
    sessions in order to allow administrators to guarantee the
    sustainability of Logipedia.

    It includes:
    \begin{compactitem}
    \item Administration procedures
    \item Upgrade procedures
    \item Backup procedures
    \end{compactitem}

    Although these sessions are necessary for the launch, all the
    documentation will be accessible publicly on a website in order
    for anyone to become maintainer.
  \end{task}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \begin{task}[id=edukera,
      title=Web interface for doing proofs at school,
      lead=Edu,EduRM=12]

    TODO
  \end{task}

\end{tasklist}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{wpdelivs}
  \begin{wpdeliv}[due=3,miles=startup,id=requirements,dissem=PU,nature=DEM,lead=Inr]{Requirements Analysis and Synchronization}
  \end{wpdeliv}

  \begin{wpdeliv}[due=2,miles=???,id=acessopamtool,dissem=PU,nature=DEM,lead=Oca]{Proof to opam tool}
    Tool to translate the logipedia database format into an opam repository
  \end{wpdeliv}

  \begin{wpdeliv}[due=2,miles=???,id=acessopamrepo,dissem=PU,nature=DEM,lead=Oca]{Proof opam repository}
    Opam repository populated with the generated proof packages
  \end{wpdeliv}

  \begin{wpdeliv}[due=1,miles=???,id=accessopamconfig,dissem=PU,nature=DEM,lead=Oca]{opam for logipedia}
    Opam configuration to use it (only or also) for logipedia
  \end{wpdeliv}

  \begin{wpdeliv}[due=1,miles=???,id=accessopam,dissem=PU,nature=DEM,lead=Oca]{Provide logipedia opam}
    Installation of the repository in the infrastructure of task~\taskref{access}{infra}
  \end{wpdeliv}

  \begin{wpdeliv}[due=18,miles=???,id=archi-spec,dissem=PU,nature=R,lead=Irt]{Software and functional architecture}
    Specification document describing the target functional and software architecture
  \end{wpdeliv}
  
  \begin{wpdeliv}[due=20,miles=???,id=infra-spec,dissem=PU,nature=R,lead=Irt]{Hardware architecture}
    Specification document describing the target hardware architecture for the infrastructure
  \end{wpdeliv}
  
  \begin{wpdeliv}[due=48,miles=???,id=website,dissem=PU,nature=D,lead=Irt]{Logipedia website}
    The logipedia website itself, developed following specification documents
  \end{wpdeliv}
  
  \begin{wpdeliv}[due=48,miles=???,id=transfer-doc,dissem=PU,nature=R,lead=Irt]{Transfer documentation}
    Documentation for the exploitation of the logipedia platform
  \end{wpdeliv}
  
\end{wpdelivs}

\end{workpackage}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../propB"
%%% mode: flyspell
%%% ispell-local-dictionary: "english"
%%% End:
